<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Navigation Debug Test</title>
    <link rel="stylesheet" href="styles.css">
    <script src="components/navigation-loader.js"></script>
</head>

<body class="fusion-body">
    <header id="masthead" class="site-header fusion-header" role="banner">
        <!-- Navigation content loaded by navigation-loader.js -->
    </header>

    <main style="padding: 50px; text-align: center;">
        <h1>Navigation Debug Test</h1>
        <p>This page is for testing navigation loading. Check:</p>
        <ol style="text-align: left; max-width: 600px; margin: 0 auto;">
            <li>Is the navigation menu visible at the top?</li>
            <li>Are the menu items showing as BLACK text (not white)?</li>
            <li>Do the menu links work?</li>
            <li>Does the mobile menu work on narrow screens?</li>
        </ol>

        <div style="margin-top: 30px;">
            <h3>Test Links:</h3>
            <a href="index2.html" style="margin: 10px; padding: 10px; background: #ddd; text-decoration: none;">Homepage
                (should have WHITE nav text)</a><br>
            <a href="stories.html" style="margin: 10px; padding: 10px; background: #ddd; text-decoration: none;">Stories
                (should have BLACK nav text)</a><br>
            <a href="story-detail/afghanistan-after-the-taliban.html"
                style="margin: 10px; padding: 10px; background: #ddd; text-decoration: none;">Story Detail (should have
                BLACK nav text)</a>
        </div>

        <div style="margin-top: 30px;">
            <h3>Debug Info:</h3>
            <div id="debug-info" style="background: #f0f0f0; padding: 20px; text-align: left; font-family: monospace;">
            </div>
        </div>
    </main>

    <script>
        // Debug script to check navigation loading
        document.addEventListener('DOMContentLoaded', function () {
            const debugDiv = document.getElementById('debug-info');

            function updateDebugInfo() {
                const header = document.querySelector('header');
                const navigation = document.querySelector('.fusion-tb-header');
                const menuItems = document.querySelectorAll('.awb-menu__main-a');
                const bodyClasses = document.body.className;

                debugDiv.innerHTML = `
                    <strong>Page URL:</strong> ${window.location.pathname}<br>
                    <strong>Body Classes:</strong> ${bodyClasses}<br>
                    <strong>Header Element:</strong> ${header ? 'Found' : 'Not Found'}<br>
                    <strong>Navigation Component:</strong> ${navigation ? 'Loaded' : 'Not Loaded'}<br>
                    <strong>Menu Items Count:</strong> ${menuItems.length}<br>
                    <strong>Navigation HTML:</strong><br>
                    ${header ? header.innerHTML.substring(0, 200) + '...' : 'No header content'}
                `;
            }

            // Initial check
            updateDebugInfo();

            // Check again after navigation loads
            setTimeout(updateDebugInfo, 1000);

            // Listen for navigation loaded event
            document.addEventListener('navigationLoaded', function () {
                setTimeout(updateDebugInfo, 100);
            });
        });
    </script>
</body>

</html>