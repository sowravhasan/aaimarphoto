<!-- Universal Navigation Component -->
<!-- This navigation will be used across all pages with consistent styling -->
<div class="fusion-tb-header">
    <div class="fusion-fullwidth fullwidth-box fusion-builder-row-1 fusion-flex-container hundred-percent-fullwidth non-hundred-percent-height-scrolling"
        style="--awb-border-radius-top-left:0px;--awb-border-radius-top-right:0px;--awb-border-radius-bottom-right:0px;--awb-border-radius-bottom-left:0px;--awb-padding-top:30px;--awb-flex-wrap:wrap;">
        <div class="fusion-builder-row fusion-row fusion-flex-align-items-center fusion-flex-content-wrap"
            style="width:104% !important;max-width:104% !important;margin-left: calc(-4% / 2 );margin-right: calc(-4% / 2 );">

            <!-- Logo Section -->
            <div class="fusion-layout-column fusion_builder_column fusion-builder-column-0 fusion_builder_column_1_3 1_3 fusion-flex-column"
                style="--awb-bg-size:cover;--awb-width-large:33.333333333333%;--awb-margin-top-large:0px;--awb-spacing-right-large:5.76%;--awb-margin-bottom-large:20px;--awb-spacing-left-large:5.76%;--awb-width-medium:33.333333333333%;--awb-order-medium:0;--awb-spacing-right-medium:5.76%;--awb-spacing-left-medium:5.76%;--awb-width-small:100%;--awb-order-small:0;--awb-spacing-right-small:1.92%;--awb-spacing-left-small:1.92%;">
                <div
                    class="fusion-column-wrapper fusion-column-has-shadow fusion-flex-justify-content-flex-start fusion-content-layout-column">
                    <div class="fusion-title title fusion-title-1 fusion-sep-none fusion-title-text fusion-title-size-div logo"
                        style="--awb-margin-top:0px;--awb-margin-bottom:0px;--awb-font-size:40px;">
                        <div class="fusion-title-heading title-heading-left title-heading-tag"
                            style="font-family:&quot;Raleway&quot;;font-style:normal;font-weight:400;margin:0;font-size:1em;letter-spacing:-1px;text-transform:uppercase;line-height:40px;">
                            <a href="index.html" id="logo-link"
                                class="awb-custom-text-color awb-custom-text-hover-color"
                                target="_self">Andrea<strong>Aimar</strong></a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Navigation Menu Section -->
            <div class="fusion-layout-column fusion_builder_column fusion-builder-column-1 fusion_builder_column_2_3 2_3 fusion-flex-column"
                style="--awb-bg-size:cover;--awb-width-large:66.666666666667%;--awb-margin-top-large:0px;--awb-spacing-right-large:2.88%;--awb-margin-bottom-large:20px;--awb-spacing-left-large:2.88%;--awb-width-medium:66.666666666667%;--awb-order-medium:0;--awb-spacing-right-medium:2.88%;--awb-spacing-left-medium:2.88%;--awb-width-small:100%;--awb-order-small:0;--awb-spacing-right-small:1.92%;--awb-spacing-left-small:1.92%;">
                <div
                    class="fusion-column-wrapper fusion-column-has-shadow fusion-flex-justify-content-flex-end fusion-content-layout-row">

                    <!-- Mobile Menu Toggle -->
                    <button class="mobile-menu-toggle" id="mobile-menu-toggle">
                        <div class="hamburger">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                    </button>

                    <!-- Desktop Navigation Menu -->
                    <nav class="awb-menu awb-menu_row awb-menu_em-hover mobile-mode-collapse-to-button awb-menu_icons-left awb-menu_dc-yes mobile-trigger-fullwidth-off awb-menu_mobile-toggle awb-menu_indent-left mobile-size-full-absolute loading mega-menu-loading awb-menu_desktop awb-menu_dropdown awb-menu_expand-right awb-menu_transition-fade"
                        style="--awb-font-size:12px;--awb-text-transform:uppercase;--awb-gap:20px;--awb-align-items:center;--awb-justify-content:flex-end;--awb-border-bottom:1px;--awb-color:var(--awb-color2);--awb-active-color:var(--awb-color2);--awb-active-border-bottom:1px;--awb-active-border-color:var(--awb-color2);--awb-icons-hover-color:var(--awb-color2);--awb-main-justify-content:flex-start;--awb-mobile-bg:var(--awb-color1);--awb-mobile-color:var(--awb-color2);--awb-mobile-active-bg:var(--awb-color2);--awb-mobile-active-color:var(--awb-color1);--awb-mobile-trigger-font-size:24px;--awb-mobile-trigger-color:var(--awb-color2);--awb-mobile-trigger-background-color:rgba(255,255,255,0);--awb-mobile-justify:flex-start;--awb-mobile-caret-left:auto;--awb-mobile-caret-right:0;--awb-fusion-font-family-typography:&quot;Raleway&quot;;--awb-fusion-font-style-typography:normal;--awb-fusion-font-weight-typography:400;--awb-fusion-font-family-submenu-typography:inherit;--awb-fusion-font-style-submenu-typography:normal;--awb-fusion-font-weight-submenu-typography:400;--awb-fusion-font-family-mobile-typography:inherit;--awb-fusion-font-style-mobile-typography:normal;--awb-fusion-font-weight-mobile-typography:400;"
                        aria-label="Portfolio" data-breakpoint="1090" data-count="0" data-transition-type="fade"
                        data-transition-time="300" data-expand="right" id="main-menu">

                        <!-- WordPress Mobile Toggle Button (hidden by CSS) -->
                        <button type="button" class="awb-menu__m-toggle awb-menu__m-toggle_no-text"
                            aria-expanded="false" aria-controls="menu-portfolio">
                            <span class="awb-menu__m-toggle-inner">
                                <span class="collapsed-nav-text">
                                    <span class="screen-reader-text">Toggle Navigation</span>
                                </span>
                                <span class="awb-menu__m-collapse-icon awb-menu__m-collapse-icon_no-text">
                                    <span
                                        class="awb-menu__m-collapse-icon-open awb-menu__m-collapse-icon-open_no-text fa-bars fas"></span>
                                    <span
                                        class="awb-menu__m-collapse-icon-close awb-menu__m-collapse-icon-close_no-text fa-times fas"></span>
                                </span>
                            </span>
                        </button>

                        <!-- Main Navigation Menu -->
                        <ul id="menu-portfolio" class="fusion-menu awb-menu__main-ul awb-menu__main-ul_row">
                            <li
                                class="menu-item menu-item-stories awb-menu__li awb-menu__main-li awb-menu__main-li_regular">
                                <span
                                    class="awb-menu__main-background-default awb-menu__main-background-default_fade"></span>
                                <span
                                    class="awb-menu__main-background-active awb-menu__main-background-active_fade"></span>
                                <a href="stories.html" class="awb-menu__main-a awb-menu__main-a_regular nav-stories">
                                    <span class="menu-text">STORIES</span>
                                </a>
                            </li>
                            <li
                                class="menu-item menu-item-stories1 awb-menu__li awb-menu__main-li awb-menu__main-li_regular">
                                <span
                                    class="awb-menu__main-background-default awb-menu__main-background-default_fade"></span>
                                <span
                                    class="awb-menu__main-background-active awb-menu__main-background-active_fade"></span>
                                <a href="stories1.html" class="awb-menu__main-a awb-menu__main-a_regular nav-stories1">
                                    <span class="menu-text">STORIES1</span>
                                </a>
                            </li>
                            <li
                                class="menu-item menu-item-stories2 awb-menu__li awb-menu__main-li awb-menu__main-li_regular">
                                <span
                                    class="awb-menu__main-background-default awb-menu__main-background-default_fade"></span>
                                <span
                                    class="awb-menu__main-background-active awb-menu__main-background-active_fade"></span>
                                <a href="stories2.html" class="awb-menu__main-a awb-menu__main-a_regular nav-stories2">
                                    <span class="menu-text">STORIES2</span>
                                </a>
                            </li>
                            <li
                                class="menu-item menu-item-about awb-menu__li awb-menu__main-li awb-menu__main-li_regular">
                                <span
                                    class="awb-menu__main-background-default awb-menu__main-background-default_fade"></span>
                                <span
                                    class="awb-menu__main-background-active awb-menu__main-background-active_fade"></span>
                                <a href="about.html" class="awb-menu__main-a awb-menu__main-a_regular nav-about">
                                    <span class="menu-text">ABOUT</span>
                                </a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Navigation JavaScript for Mobile Toggle -->
<script>
    // Mobile menu toggle functionality - Universal for all pages
    document.addEventListener('DOMContentLoaded', function () {
        const mobileToggle = document.getElementById('mobile-menu-toggle');
        const mainMenu = document.getElementById('main-menu');
        const body = document.body;

        if (mobileToggle && mainMenu) {
            mobileToggle.addEventListener('click', function () {
                mobileToggle.classList.toggle('active');
                mainMenu.classList.toggle('mobile-open');
                body.classList.toggle('menu-open');
            });

            // Close menu when clicking on menu items
            const menuItems = mainMenu.querySelectorAll('.awb-menu__main-a');
            menuItems.forEach(item => {
                item.addEventListener('click', function () {
                    mobileToggle.classList.remove('active');
                    mainMenu.classList.remove('mobile-open');
                    body.classList.remove('menu-open');
                });
            });

            // Close menu when clicking outside
            document.addEventListener('click', function (event) {
                if (!mainMenu.contains(event.target) && !mobileToggle.contains(event.target)) {
                    mobileToggle.classList.remove('active');
                    mainMenu.classList.remove('mobile-open');
                    body.classList.remove('menu-open');
                }
            });
        }
    });

    // Set correct navigation links based on current directory
    document.addEventListener('DOMContentLoaded', function () {
        const currentPath = window.location.pathname;
        // Check for story-detail folders (works with both / and \ path separators)
        const isInSubfolder = currentPath.includes('/story-detail') || currentPath.includes('\\story-detail') ||
            currentPath.includes('story-detail1') || currentPath.includes('story-detail2');
        const pathPrefix = isInSubfolder ? '../' : '';

        console.log('Current path:', currentPath);
        console.log('Is in subfolder:', isInSubfolder);
        console.log('Path prefix:', pathPrefix);

        // Set logo link
        const logoLink = document.getElementById('logo-link');
        if (logoLink) {
            logoLink.href = pathPrefix + 'index.html';
            console.log('Logo link set to:', logoLink.href);
        }

        // Set navigation links with more specific selectors
        const navStories = document.querySelector('.nav-stories');
        const navStories1 = document.querySelector('.nav-stories1');
        const navStories2 = document.querySelector('.nav-stories2');
        const navAbout = document.querySelector('.nav-about');

        if (navStories) {
            navStories.href = pathPrefix + 'stories.html';
            console.log('Stories link set to:', navStories.href);
        }
        if (navStories1) {
            navStories1.href = pathPrefix + 'stories1.html';
            console.log('Stories1 link set to:', navStories1.href);
        }
        if (navStories2) {
            navStories2.href = pathPrefix + 'stories2.html';
            console.log('Stories2 link set to:', navStories2.href);
        }
        if (navAbout) {
            navAbout.href = pathPrefix + 'about.html';
            console.log('About link set to:', navAbout.href);
        }
    });

    // Highlight current page in navigation
    document.addEventListener('DOMContentLoaded', function () {
        const currentPage = window.location.pathname.split('/').pop() || 'index.html';
        const menuItems = document.querySelectorAll('.awb-menu__main-a');

        menuItems.forEach(item => {
            const href = item.getAttribute('href');

            // Remove any existing active classes
            item.closest('li').classList.remove('current-menu-item');

            // Add active class to current page
            if (href && href.includes(currentPage) ||
                (currentPage === 'index.html' && href && href.includes('index.html')) ||
                (currentPage === '' && href && href.includes('index.html'))) {
                item.closest('li').classList.add('current-menu-item');
            }
        });
    });
</script>